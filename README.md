## Инструкция по подготовке к началу работы

<ol>
<li>Выполнение команды в консоли 'composer install' в директории проекта</li>
<li>Создание БД и экспорт в нее структуры таблицы polygonsTable.sql из корневой папки проекта</li>
<li>Настройка подключения к БД в .env файле и при желании категорий в App/Enums/Category.php</li>
<li>Выполнение команды 'php parus.php' в директории проекта и ввод координат в формате X Y, X Y... или X Y,X Y...</li>
</ol>

## Схема работы скрипта
<ol>
<li>Скрипт проверяет соединение с БД и получает полигон из консоли и преобразует его в JSON-формат, преобразует
выбранные категории в JSON-формат, эти данные вместе с используемым типом EPSG записывает в шаблон request.json
и отправляет на указанный API.</li>
<li>Скрипт получает от API JSON-ответ, который валидируется на наличие в нем полигонов и их формат, после этого
полученные полигоны и мультиполигоны преобразуются в два массива, состоящих из элементов класса Polygon, во второй
массив записываются полигоны, не прошедшие проверку (если такие будут).</li>
<li>Скрипт сохраняет все полученные валидированные полигоны в БД и сообщает все ли полигоны были успешно записаны,
если с некоторыми случится какая-либо ошибка, они также будут записаны в отдельный массив, чтобы можно было отследить
проблему (если такая будет). Если полигон по кадастровому номеру уже существует, будет обновлено его пространственное
значение.</li>
</ol>

### Уточнения

<div><p>P.S. Кадастровый номер сохраняется составным ключом типа int в таблице и его часть отвечающая за квартал нуждается в
форматировании для дальнейшего использования, там где в базе записывается 0 нужно использовать 000000, а где
число из 5 цифр например 50741 нужно использовать 050741.</div></p>

<div><p>P.P.S Массив координат полигона используемый при вводе не был точно описан, поэтому были добавлены 2 способа, при
необходимости можно добавить любой другой формат ввода полигона в консоль.</div></p>
